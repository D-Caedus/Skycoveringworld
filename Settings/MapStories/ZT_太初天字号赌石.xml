<Stories><List>
	<Story Name="SFD"  Parent="BaseFillingStory">
		<DisplayName>Gambling in stone</DisplayName>
		<Desc>[NAME]Cut the stone, the consciousness drifted into a gamble in the node of the other world. The rules of the gambling game are as follows: the two sides get two Daoyun, one bright and one dark, 1 point can be counted as 11 points (you decide how to use it), and the remaining 2 to 10 points are calculated according to the size of the board. And 10 will get Xianyu. If the other party does not have 1 and 10, they will get the highest reward directly. If the other party's Mingyun is 1, you can consider buying insurance. The insurance life is the general value of the life required by Cut Stone. Then get back the insurance Shouyuan and get the highest reward directly. If the other party is not Xianyu, continue to gamble. Players who have not won Xianyu can continue to ask for rhyme, and close the Taoyun in their hands to 21 points. At 21 o'clock, we will directly deduct the shou yuan required for double cut stones and end the gambling. If it is not exceeded, we will decide that we will no longer need Tao Yun, and the two sides will compare the size.</Desc>
		<Selections>
			<li>
				<Display>Let it go.</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(167,nQ);
					table.remove(tN,nR);
					nR = me:RandomInt(1,(#tN+1));
					nQ = tN[nR];
					world:SetWorldFlag(166,nQ);
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(168,nG);
					table.remove(tJ,nH);
					nH = me:RandomInt(1,(#tJ+1));
					nG = tJ[nH];
					world:SetWorldFlag(169,nG);
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					me:AddMsg(string.format(XT("[NAME]抽到的两张道韵分别为：%s,%s。"), tostring(num166), tostring(num167)));
					me:AddMsg(string.format(XT("对家抽到的明蕴为：%s。"), tostring(num168)));
					if num166 == 1 and num167 == 10 then
						me:TriggerStory("XYSF");
					elseif num166 == 10 and num167 == 1 then
						me:TriggerStory("XYSF");
					else
						me:TriggerStory("SFD1");
					end
				]]>
				</OKResult>
			</li>
			
			<li>
				<Display>离开</Display> 
				<OKResult>me:AddMsg(XT("[NAME]想了想，赌博害人，还是赶紧离开吧消耗了寿元，就消耗了吧，买个教训。"));</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XYSF"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]抽中了仙域，如果对方没有仙域则直接获得最高奖励，如果对方的明韵是1或10，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是对方是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局</Desc>
		<Selections>
			<li>
				<Display>仙域都有了我还怕个锤锤</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					else
						me:AddMsg("[NAME]赢了，获得了双倍奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",6);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",6);me:DropAwardItem("Item_BossFeng_HuoYu",14);
						me:DropAwardItem("Item_BossFeng_GangYu",14);me:DropAwardItem("Item_BossFeng_TouYu",14);me:DropAwardItem("Item_BossFeng_WeiYu",14);me:DropAwardItem("Item_BossFeng_Gu",14);me:DropAwardItem("Item_BossFeng_HongYu",6);
						me:DropAwardItem("Item_BossFeng_Meat",36);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>对方明韵有1或10，买个保险吧。</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					elseif num168 == 10 and num169 == 1 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					else
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					end
				]]></OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="SFD1"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(177,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(178,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					
					me:AddMsg(string.format(XT("[NAME]抽到的三张道韵分别为：%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177)));
					me:AddMsg(string.format(XT("对家抽到的两张明蕴为：%s,%s"), tostring(num168), tostring(num169)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("SFD2");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手居然是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真居然是仙域。赔个精光一无所有。");
					elseif  nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="SFD2"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(187,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(188,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					
					me:AddMsg(string.format(XT("[NAME]抽到的四张道韵分别为：%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187)));
					me:AddMsg(string.format(XT("对家抽到的三张明蕴为：%s,%s,%s"), tostring(num168), tostring(num169), tostring(num178)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("SFD3");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>

	<Story Name="SFD3"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(197,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(198,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					
					me:AddMsg(string.format(XT("[NAME]抽到的五张道韵分别为：%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197)));
					me:AddMsg(string.format(XT("对家抽到的四张明蕴为：%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("SFD4");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="SFD4"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(207,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(208,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					
					me:AddMsg(string.format(XT("[NAME]抽到的六张道韵分别为：%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207)));
					me:AddMsg(string.format(XT("对家抽到的五张明蕴为：%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("SFD5");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
					me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="SFD5"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(217,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(218,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					
					me:AddMsg(string.format(XT("[NAME]抽到的七张道韵分别为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217)));
					me:AddMsg(string.format(XT("对家抽到的六张明蕴为：%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("SFD6");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.8,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
					me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>

	<Story Name="SFD6"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(227,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(228,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					
					me:AddMsg(string.format(XT("[NAME]抽到的八张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227)));
					me:AddMsg(string.format(XT("对家抽到的七张明蕴为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("SFD7");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
					me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="SFD7"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(237,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(238,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					local num217 = world:GetWorldFlag(237)
					local num218 = world:GetWorldFlag(238)
					
					me:AddMsg(string.format(XT("[NAME]抽到的九张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227), tostring(num237)));
					me:AddMsg(string.format(XT("对家抽到的八张明蕴为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218), tostring(num228)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("SFD8");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1  or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
					me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="SFD8"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					me:AddMsg("大佬就冲你这个人品，东西给你了。");
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237)+ 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 and world:GetWorldFlag(237) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 or world:GetWorldFlag(238) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
					me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	
	
	
	<Story Name="JLD"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]切开石头，意识飘散到了异界结点的一场赌局之中。赌局的规则如下开局双方获得两张道韵，一张明韵一张暗韵，1点可当做11点算（由你自己决定怎么使用），其余2至10点按牌面大小算，开局前两张道韵若是1和10则获得仙域，如果对方没有1和10则直接获得最高奖励，如果对方明韵是1，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局，没获得仙域的玩家可继续要韵，将手中的道韵向21点靠近，若玩家要的道韵超过21点则直接扣除双倍切石所需寿元，并结束赌局，假如没有超过，又决定不再要道韵，两方进行比大小。</Desc>
		<Selections>
			<li>
				<Display>发道韵吧。</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(167,nQ);
					table.remove(tN,nR);
					nR = me:RandomInt(1,(#tN+1));
					nQ = tN[nR];
					world:SetWorldFlag(166,nQ);
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(168,nG);
					table.remove(tJ,nH);
					nH = me:RandomInt(1,(#tJ+1));
					nG = tJ[nH];
					world:SetWorldFlag(169,nG);
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					me:AddMsg(string.format(XT("[NAME]抽到的两张道韵分别为：%s,%s。"), tostring(num166), tostring(num167)));
					me:AddMsg(string.format(XT("对家抽到的明蕴为：%s。"), tostring(num168)));
					if num166 == 1 and num167 == 10 then
						me:TriggerStory("XYJL");
					elseif num166 == 10 and num167 == 1 then
						me:TriggerStory("XYJL");
					else
						me:TriggerStory("JLD1");
					end
				]]>
				</OKResult>
			</li>
			
			<li>
				<Display>离开</Display> 
				<OKResult>me:AddMsg(XT("[NAME]想了想，赌博害人，还是赶紧离开吧消耗了寿元，就消耗了吧，买个教训。"));</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XYJL"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]抽中了仙域，如果对方没有仙域则直接获得最高奖励，如果对方的明韵是1或10，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是对方是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局</Desc>
		<Selections>
			<li>
				<Display>仙域都有了我还怕个锤锤</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					else
						me:AddMsg("[NAME]赢了，获得了双倍奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",6);me:DropAwardItem("Item_DragonScale",6);me:DropAwardItem("Item_BossLong_Jia",14);
						me:DropAwardItem("Item_BossLong_Zhua",14);me:DropAwardItem("Item_BossLong_Lin",14);me:DropAwardItem("Item_BossLong_NiLin",14);me:DropAwardItem("Item_BossLong_Jing",14);
						me:DropAwardItem("Item_BossLong_Meat",36);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>对方明韵有1或10，买个保险吧。</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					elseif num168 == 10 and num169 == 1 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					else
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					end
				]]></OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="JLD1"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(177,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(178,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					
					me:AddMsg(string.format(XT("[NAME]抽到的三张道韵分别为：%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177)));
					me:AddMsg(string.format(XT("对家抽到的两张明蕴为：%s,%s"), tostring(num168), tostring(num169)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("JLD2");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手居然是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真居然是仙域。赔个精光一无所有。");
					elseif  nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="JLD2"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(187,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(188,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					
					me:AddMsg(string.format(XT("[NAME]抽到的四张道韵分别为：%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187)));
					me:AddMsg(string.format(XT("对家抽到的三张明蕴为：%s,%s,%s"), tostring(num168), tostring(num169), tostring(num178)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("JLD3");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
					me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Fenghuangneidan",3);me:DropAwardItem("Item_Boss_Fenghuanghuoyu",3);me:DropAwardItem("Item_BossFeng_HuoYu",7);
						me:DropAwardItem("Item_BossFeng_GangYu",7);me:DropAwardItem("Item_BossFeng_TouYu",7);me:DropAwardItem("Item_BossFeng_WeiYu",7);me:DropAwardItem("Item_BossFeng_Gu",7);me:DropAwardItem("Item_BossFeng_HongYu",3);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Feng",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_XiongfengFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只鸡爪");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="JLD3"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(197,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(198,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					
					me:AddMsg(string.format(XT("[NAME]抽到的五张道韵分别为：%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197)));
					me:AddMsg(string.format(XT("对家抽到的四张明蕴为：%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("JLD4");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="JLD4"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(207,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(208,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					
					me:AddMsg(string.format(XT("[NAME]抽到的六张道韵分别为：%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207)));
					me:AddMsg(string.format(XT("对家抽到的五张明蕴为：%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("JLD5");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="JLD5"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(217,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(218,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					
					me:AddMsg(string.format(XT("[NAME]抽到的七张道韵分别为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217)));
					me:AddMsg(string.format(XT("对家抽到的六张明蕴为：%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("JLD6");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.8,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="JLD6"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(227,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(228,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					
					me:AddMsg(string.format(XT("[NAME]抽到的八张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227)));
					me:AddMsg(string.format(XT("对家抽到的七张明蕴为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("JLD7");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="JLD7"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(237,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(238,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					local num217 = world:GetWorldFlag(237)
					local num218 = world:GetWorldFlag(238)
					
					me:AddMsg(string.format(XT("[NAME]抽到的九张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227), tostring(num237)));
					me:AddMsg(string.format(XT("对家抽到的八张明蕴为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218), tostring(num228)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else 
						me:TriggerStory("JLD8");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1  or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="JLD8"  Parent="BaseFillingStory">
	<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					me:AddMsg("大佬就冲你这个人品，东西给你了。");
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237)+ 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 and world:GetWorldFlag(237) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 or world:GetWorldFlag(238) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_Boss_Jiaowangci",3);me:DropAwardItem("Item_DragonScale",3);me:DropAwardItem("Item_BossLong_Jia",7);me:DropAwardItem("Item_BossLong_Zhua",7);me:DropAwardItem("Item_BossLong_Lin",7);me:DropAwardItem("Item_BossLong_NiLin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossLong_Meat",18);
						me:DropAwardItem("Item_BossFeng_Meat",18);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						local long = Map:CallBoss("Boss_Long",Map:RandomBronGrid(),false);
						long:AddModifier("Boss_JiaolongFight", -99999);
						long:AddLing(long.MaxLing - long.LingV);
						long:SetName("三只虫虫");
						long.LuaHelper:AddTitle("送蛋专员","请打死我",4);
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
				
				
	<Story Name="ZLD"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]切开石头，意识飘散到了异界结点的一场赌局之中。赌局的规则如下开局双方获得两张道韵，一张明韵一张暗韵，1点可当做11点算（由你自己决定怎么使用），其余2至10点按牌面大小算，开局前两张道韵若是1和10则获得仙域，如果对方没有1和10则直接获得最高奖励，如果对方明韵是1，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局，没获得仙域的玩家可继续要韵，将手中的道韵向21点靠近，若玩家要的道韵超过21点则直接扣除双倍切石所需寿元，并结束赌局，假如没有超过，又决定不再要道韵，两方进行比大小。</Desc>
		<Selections>
			<li>
				<Display>发道韵吧。</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(167,nQ);
					table.remove(tN,nR);
					nR = me:RandomInt(1,(#tN+1));
					nQ = tN[nR];
					world:SetWorldFlag(166,nQ);
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(168,nG);
					table.remove(tJ,nH);
					nH = me:RandomInt(1,(#tJ+1));
					nG = tJ[nH];
					world:SetWorldFlag(169,nG);
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					me:AddMsg(string.format(XT("[NAME]抽到的两张道韵分别为：%s,%s。"), tostring(num166), tostring(num167)));
					me:AddMsg(string.format(XT("对家抽到的明蕴为：%s。"), tostring(num168)));
					if num166 == 1 and num167 == 10 then
						me:TriggerStory("XYZL");
					elseif num166 == 10 and num167 == 1 then
						me:TriggerStory("XYZL");
					else
						me:TriggerStory("ZLD1");
					end
				]]>
				</OKResult>
			</li>
			
			<li>
				<Display>离开</Display> 
				<OKResult>me:AddMsg(XT("[NAME]想了想，赌博害人，还是赶紧离开吧消耗了寿元，就消耗了吧，买个教训。"));</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XYZL"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]抽中了仙域，如果对方没有仙域则直接获得最高奖励，如果对方的明韵是1或10，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是对方是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局</Desc>
		<Selections>
			<li>
				<Display>仙域都有了我还怕个锤锤</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					else
						me:AddMsg("[NAME]赢了，获得了双倍奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",6);me:DropAwardItem("Item_BossZhuLong_LongYu",6);me:DropAwardItem("Item_BossZhuLong_BaiLin",14);
						me:DropAwardItem("Item_BossZhuLong_HeiLin",14);me:DropAwardItem("Item_BossZhuLong_TianLin",14);me:DropAwardItem("Item_BossZhuLong_FengYin",14);me:DropAwardItem("Item_BossLong_Jing",14);
						me:DropAwardItem("Item_BossZhuLong_Meat",36);
						
						
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>对方明韵有1或10，买个保险吧。</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					elseif num168 == 10 and num169 == 1 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					else
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
					end
				]]></OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="ZLD1"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(177,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(178,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					
					me:AddMsg(string.format(XT("[NAME]抽到的三张道韵分别为：%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177)));
					me:AddMsg(string.format(XT("对家抽到的两张明蕴为：%s,%s"), tostring(num168), tostring(num169)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else 
						me:TriggerStory("ZLD2");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手居然是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真居然是仙域。赔个精光一无所有。");
					elseif  nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="ZLD2"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(187,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(188,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					
					me:AddMsg(string.format(XT("[NAME]抽到的四张道韵分别为：%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187)));
					me:AddMsg(string.format(XT("对家抽到的三张明蕴为：%s,%s,%s"), tostring(num168), tostring(num169), tostring(num178)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else 
						me:TriggerStory("ZLD3");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="ZLD3"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(197,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(198,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					
					me:AddMsg(string.format(XT("[NAME]抽到的五张道韵分别为：%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197)));
					me:AddMsg(string.format(XT("对家抽到的四张明蕴为：%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else 
						me:TriggerStory("ZLD4");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="ZLD4"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(207,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(208,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					
					me:AddMsg(string.format(XT("[NAME]抽到的六张道韵分别为：%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207)));
					me:AddMsg(string.format(XT("对家抽到的五张明蕴为：%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else 
						me:TriggerStory("ZLD5");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="ZLD5"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(217,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(218,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					
					me:AddMsg(string.format(XT("[NAME]抽到的七张道韵分别为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217)));
					me:AddMsg(string.format(XT("对家抽到的六张明蕴为：%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else 
						me:TriggerStory("ZLD6");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.8,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="ZLD6"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(227,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(228,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					
					me:AddMsg(string.format(XT("[NAME]抽到的八张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227)));
					me:AddMsg(string.format(XT("对家抽到的七张明蕴为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else 
						me:TriggerStory("ZLD7");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="ZLD7"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(237,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(238,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					local num217 = world:GetWorldFlag(237)
					local num218 = world:GetWorldFlag(238)
					
					me:AddMsg(string.format(XT("[NAME]抽到的九张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227), tostring(num237)));
					me:AddMsg(string.format(XT("对家抽到的八张明蕴为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218), tostring(num228)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else 
						me:TriggerStory("ZLD8");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1  or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="ZLD8"  Parent="BaseFillingStory">
	<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					me:AddMsg("大佬就冲你这个人品，东西给你了。");
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237)+ 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 and world:GetWorldFlag(237) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 or world:GetWorldFlag(238) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_BossZhuLong_Eye",3);me:DropAwardItem("Item_BossZhuLong_LongYu",3);me:DropAwardItem("Item_BossZhuLong_BaiLin",7);me:DropAwardItem("Item_BossZhuLong_HeiLin",7);me:DropAwardItem("Item_BossZhuLong_TianLin",7);me:DropAwardItem("Item_BossZhuLong_FengYin",7);me:DropAwardItem("Item_BossLong_Jing",7);me:DropAwardItem("Item_BossZhuLong_Meat",18);
						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>			
				
				
	
	<Story Name="XWB"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]切开石头，意识飘散到了异界结点的一场赌局之中。赌局的规则如下开局双方获得两张道韵，一张明韵一张暗韵，1点可当做11点算（由你自己决定怎么使用），其余2至10点按牌面大小算，开局前两张道韵若是1和10则获得仙域，如果对方没有1和10则直接获得最高奖励，如果对方明韵是1，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局，没获得仙域的玩家可继续要韵，将手中的道韵向21点靠近，若玩家要的道韵超过21点则直接扣除双倍切石所需寿元，并结束赌局，假如没有超过，又决定不再要道韵，两方进行比大小。</Desc>
		<Selections>
			<li>
				<Display>发道韵吧。</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(167,nQ);
					table.remove(tN,nR);
					nR = me:RandomInt(1,(#tN+1));
					nQ = tN[nR];
					world:SetWorldFlag(166,nQ);
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(168,nG);
					table.remove(tJ,nH);
					nH = me:RandomInt(1,(#tJ+1));
					nG = tJ[nH];
					world:SetWorldFlag(169,nG);
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					me:AddMsg(string.format(XT("[NAME]抽到的两张道韵分别为：%s,%s。"), tostring(num166), tostring(num167)));
					me:AddMsg(string.format(XT("对家抽到的明蕴为：%s。"), tostring(num168)));
					if num166 == 1 and num167 == 10 then
						me:TriggerStory("XYXWB");
					elseif num166 == 10 and num167 == 1 then
						me:TriggerStory("XYXWB");
					else
						me:TriggerStory("XWB1");
					end
				]]>
				</OKResult>
			</li>
			
			<li>
				<Display>离开</Display> 
				<OKResult>me:AddMsg(XT("[NAME]想了想，赌博害人，还是赶紧离开吧消耗了寿元，就消耗了吧，买个教训。"));</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XYXWB"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]抽中了仙域，如果对方没有仙域则直接获得最高奖励，如果对方的明韵是1或10，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是对方是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局</Desc>
		<Selections>
			<li>
				<Display>仙域都有了我还怕个锤锤</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					else
						me:AddMsg("[NAME]赢了，获得了双倍奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",2);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",2);
							me:ModifierProperty("NpcFight_FabaoLingRecoverK",2);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",2);
							me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",2);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",2);
							me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",2);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",2);
							me:ModifierProperty("NpcFight_SpellPowerAddP",2);me:ModifierProperty("NpcFight_SpellLingCostAddP",-2);
							me:ModifierProperty("NpcFight_SpellCoolDownAddP",-2);me:ModifierProperty("NpcFight_ShieldConversionRate",0.5);
							me:ModifierProperty("NpcFight_ShieldConversionRateAddP",1);me:ModifierProperty("NpcFight_ZhenEnginePower",-20);
						
						
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>对方明韵有1或10，买个保险吧。</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					elseif num168 == 10 and num169 == 1 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					else
						me:AddMsg("[NAME]赢了获得了一般奖励。");
							me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);
						
					end
				]]></OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XWB1"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(177,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(178,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					
					me:AddMsg(string.format(XT("[NAME]抽到的三张道韵分别为：%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177)));
					me:AddMsg(string.format(XT("对家抽到的两张明蕴为：%s,%s"), tostring(num168), tostring(num169)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else 
						me:TriggerStory("XWB2");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手居然是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真居然是仙域。赔个精光一无所有。");
					elseif  nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="XWB2"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(187,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(188,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					
					me:AddMsg(string.format(XT("[NAME]抽到的四张道韵分别为：%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187)));
					me:AddMsg(string.format(XT("对家抽到的三张明蕴为：%s,%s,%s"), tostring(num168), tostring(num169), tostring(num178)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else 
						me:TriggerStory("XWB3");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XWB3"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(197,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(198,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					
					me:AddMsg(string.format(XT("[NAME]抽到的五张道韵分别为：%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197)));
					me:AddMsg(string.format(XT("对家抽到的四张明蕴为：%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else 
						me:TriggerStory("XWB4");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XWB4"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(207,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(208,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					
					me:AddMsg(string.format(XT("[NAME]抽到的六张道韵分别为：%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207)));
					me:AddMsg(string.format(XT("对家抽到的五张明蕴为：%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else 
						me:TriggerStory("XWB5");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XWB5"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(217,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(218,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					
					me:AddMsg(string.format(XT("[NAME]抽到的七张道韵分别为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217)));
					me:AddMsg(string.format(XT("对家抽到的六张明蕴为：%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else 
						me:TriggerStory("XWB6");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.8,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XWB6"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(227,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(228,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					
					me:AddMsg(string.format(XT("[NAME]抽到的八张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227)));
					me:AddMsg(string.format(XT("对家抽到的七张明蕴为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else 
						me:TriggerStory("XWB7");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XWB7"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(237,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(238,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					local num217 = world:GetWorldFlag(237)
					local num218 = world:GetWorldFlag(238)
					
					me:AddMsg(string.format(XT("[NAME]抽到的九张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227), tostring(num237)));
					me:AddMsg(string.format(XT("对家抽到的八张明蕴为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218), tostring(num228)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else 
						me:TriggerStory("XWB8");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1  or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XWB8"  Parent="BaseFillingStory">
	<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					me:AddMsg("大佬就冲你这个人品，东西给你了。");
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237)+ 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 and world:GetWorldFlag(237) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 or world:GetWorldFlag(238) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:ModifierProperty("NpcFight_FabaoPowerAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverAddP",1);me:ModifierProperty("NpcFight_FabaoLingRecoverK",1);me:ModifierProperty("NpcFight_FabaoMaxLingAddP",1);me:ModifierProperty("NpcFight_FabaoRepelDistanceAddV",1);me:ModifierProperty("NpcFight_FabaoFlySpeedAddP",1);me:ModifierProperty("NpcFight_FabaoTurnSpeedAddP",1);me:ModifierProperty("NpcFight_FabaoRepelResistanceAddV",1);me:ModifierProperty("NpcFight_SpellPowerAddP",1);me:ModifierProperty("NpcFight_SpellLingCostAddP",-1);me:ModifierProperty("NpcFight_SpellCoolDownAddP",-1);me:ModifierProperty("NpcFight_ShieldConversionRate",0.2);me:ModifierProperty("NpcFight_ShieldConversionRateAddP",0.5);me:ModifierProperty("NpcFight_ZhenEnginePower",-10);						
						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>

	
	
	
	<Story Name="TYS"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]切开石头，意识飘散到了异界结点的一场赌局之中。赌局的规则如下开局双方获得两张道韵，一张明韵一张暗韵，1点可当做11点算（由你自己决定怎么使用），其余2至10点按牌面大小算，开局前两张道韵若是1和10则获得仙域，如果对方没有1和10则直接获得最高奖励，如果对方明韵是1，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局，没获得仙域的玩家可继续要韵，将手中的道韵向21点靠近，若玩家要的道韵超过21点则直接扣除双倍切石所需寿元，并结束赌局，假如没有超过，又决定不再要道韵，两方进行比大小。</Desc>
		<Selections>
			<li>
				<Display>发道韵吧。</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(167,nQ);
					table.remove(tN,nR);
					nR = me:RandomInt(1,(#tN+1));
					nQ = tN[nR];
					world:SetWorldFlag(166,nQ);
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(168,nG);
					table.remove(tJ,nH);
					nH = me:RandomInt(1,(#tJ+1));
					nG = tJ[nH];
					world:SetWorldFlag(169,nG);
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					me:AddMsg(string.format(XT("[NAME]抽到的两张道韵分别为：%s,%s。"), tostring(num166), tostring(num167)));
					me:AddMsg(string.format(XT("对家抽到的明蕴为：%s。"), tostring(num168)));
					if num166 == 1 and num167 == 10 then
						me:TriggerStory("XYTYS");
					elseif num166 == 10 and num167 == 1 then
						me:TriggerStory("XYTYS");
					else
						me:TriggerStory("TYS1");
					end
				]]>
				</OKResult>
			</li>
			
			<li>
				<Display>离开</Display> 
				<OKResult>me:AddMsg(XT("[NAME]想了想，赌博害人，还是赶紧离开吧消耗了寿元，就消耗了吧，买个教训。"));</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XYTYS"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]抽中了仙域，如果对方没有仙域则直接获得最高奖励，如果对方的明韵是1或10，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是对方是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局</Desc>
		<Selections>
			<li>
				<Display>仙域都有了我还怕个锤锤</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					else
						me:AddMsg("[NAME]赢了，获得了双倍奖励。");me:DropAwardItem("Item_WSXXY",2);me:DropAwardItem("Item_JSXXY",2);me:DropAwardItem("Item_MSXXY",2);me:DropAwardItem("Item_SSXXY",2);me:DropAwardItem("Item_HSXXY",2);me:DropAwardItem("Item_TSXXY",2);
						me:DropAwardItem("Item_WSXSY",30);me:DropAwardItem("Item_JSXSY",30);me:DropAwardItem("Item_MSXSY",30);me:DropAwardItem("Item_SSXSY",30);me:DropAwardItem("Item_HSXXY",30);me:DropAwardItem("Item_TSXSY",30);
						me:DropAwardItem("Item_WSXY",80);me:DropAwardItem("Item_JSXY",80);me:DropAwardItem("Item_MSXY",80);me:DropAwardItem("Item_SSXY",80);me:DropAwardItem("Item_HSXY",80);me:DropAwardItem("Item_TSXY",80);
						
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>对方明韵有1或10，买个保险吧。</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					elseif num168 == 10 and num169 == 1 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					else
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);


							
					end
				]]></OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="TYS1"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(177,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(178,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					
					me:AddMsg(string.format(XT("[NAME]抽到的三张道韵分别为：%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177)));
					me:AddMsg(string.format(XT("对家抽到的两张明蕴为：%s,%s"), tostring(num168), tostring(num169)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
						
					else 
						me:TriggerStory("TYS2");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手居然是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真居然是仙域。赔个精光一无所有。");
					elseif  nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="TYS2"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(187,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(188,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					
					me:AddMsg(string.format(XT("[NAME]抽到的四张道韵分别为：%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187)));
					me:AddMsg(string.format(XT("对家抽到的三张明蕴为：%s,%s,%s"), tostring(num168), tostring(num169), tostring(num178)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else 
						me:TriggerStory("TYS3");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="TYS3"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(197,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(198,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					
					me:AddMsg(string.format(XT("[NAME]抽到的五张道韵分别为：%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197)));
					me:AddMsg(string.format(XT("对家抽到的四张明蕴为：%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else 
						me:TriggerStory("TYS4");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="TYS4"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(207,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(208,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					
					me:AddMsg(string.format(XT("[NAME]抽到的六张道韵分别为：%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207)));
					me:AddMsg(string.format(XT("对家抽到的五张明蕴为：%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else 
						me:TriggerStory("TYS5");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="TYS5"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(217,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(218,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					
					me:AddMsg(string.format(XT("[NAME]抽到的七张道韵分别为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217)));
					me:AddMsg(string.format(XT("对家抽到的六张明蕴为：%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else 
						me:TriggerStory("TYS6");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.8,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="TYS6"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(227,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(228,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					
					me:AddMsg(string.format(XT("[NAME]抽到的八张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227)));
					me:AddMsg(string.format(XT("对家抽到的七张明蕴为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else 
						me:TriggerStory("TYS7");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="TYS7"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(237,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(238,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					local num217 = world:GetWorldFlag(237)
					local num218 = world:GetWorldFlag(238)
					
					me:AddMsg(string.format(XT("[NAME]抽到的九张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227), tostring(num237)));
					me:AddMsg(string.format(XT("对家抽到的八张明蕴为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218), tostring(num228)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else 
						me:TriggerStory("TYS8");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1  or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="TYS8"  Parent="BaseFillingStory">
	<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					me:AddMsg("大佬就冲你这个人品，东西给你了。");
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237)+ 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 and world:GetWorldFlag(237) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 or world:GetWorldFlag(238) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_JSXXY",1);me:DropAwardItem("Item_MSXXY",1);me:DropAwardItem("Item_SSXXY",1);me:DropAwardItem("Item_HSXXY",1);me:DropAwardItem("Item_TSXXY",1);me:DropAwardItem("Item_WSXSY",15);me:DropAwardItem("Item_JSXSY",15);me:DropAwardItem("Item_MSXSY",15);me:DropAwardItem("Item_SSXSY",15);me:DropAwardItem("Item_HSXSY",15);me:DropAwardItem("Item_TSXSY",15);me:DropAwardItem("Item_WSXY",30);me:DropAwardItem("Item_JSXY",30);me:DropAwardItem("Item_MSXY",30);me:DropAwardItem("Item_SSXY",30);me:DropAwardItem("Item_HSXY",30);me:DropAwardItem("Item_TSXY",30);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	
	
	<Story Name="DBF"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]切开石头，意识飘散到了异界结点的一场赌局之中。赌局的规则如下开局双方获得两张道韵，一张明韵一张暗韵，1点可当做11点算（由你自己决定怎么使用），其余2至10点按牌面大小算，开局前两张道韵若是1和10则获得仙域，如果对方没有1和10则直接获得最高奖励，如果对方明韵是1，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局，没获得仙域的玩家可继续要韵，将手中的道韵向21点靠近，若玩家要的道韵超过21点则直接扣除双倍切石所需寿元，并结束赌局，假如没有超过，又决定不再要道韵，两方进行比大小。</Desc>
		<Selections>
			<li>
				<Display>发道韵吧。</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(167,nQ);
					table.remove(tN,nR);
					nR = me:RandomInt(1,(#tN+1));
					nQ = tN[nR];
					world:SetWorldFlag(166,nQ);
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(168,nG);
					table.remove(tJ,nH);
					nH = me:RandomInt(1,(#tJ+1));
					nG = tJ[nH];
					world:SetWorldFlag(169,nG);
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					me:AddMsg(string.format(XT("[NAME]抽到的两张道韵分别为：%s,%s。"), tostring(num166), tostring(num167)));
					me:AddMsg(string.format(XT("对家抽到的明蕴为：%s。"), tostring(num168)));
					if num166 == 1 and num167 == 10 then
						me:TriggerStory("XYDBF");
					elseif num166 == 10 and num167 == 1 then
						me:TriggerStory("XYDBF");
					else
						me:TriggerStory("DBF1");
					end
				]]>
				</OKResult>
			</li>
			
			<li>
				<Display>离开</Display> 
				<OKResult>me:AddMsg(XT("[NAME]想了想，赌博害人，还是赶紧离开吧消耗了寿元，就消耗了吧，买个教训。"));</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="XYDBF"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]抽中了仙域，如果对方没有仙域则直接获得最高奖励，如果对方的明韵是1或10，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是对方是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局</Desc>
		<Selections>
			<li>
				<Display>仙域都有了我还怕个锤锤</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					else
						me:AddMsg("[NAME]赢了，获得了双倍奖励。");me:DropAwardItem("Item_DJHJ",20);me:DropAwardItem("Item_HXCJ",20);me:DropAwardItem("Item_LWHJ",20);me:DropAwardItem("Item_YHQJ",20);me:DropAwardItem("Item_SHZJ",20);me:DropAwardItem("Item_YHLJ",20);me:DropAwardItem("Item_XLLJ",20);
						me:DropAwardItem("Item_XHEQ",40);me:DropAwardItem("Item_XHJC",10);me:DropAwardItem("Item_ZJST",200);me:DropAwardItem("Item_ST",200);me:DropAwardItem("Item_DLYJ",200);me:DropAwardItem("Item_XZ",200);me:DropAwardItem("Item_JTBLSY",200);
						me:DropAwardItem("Item_ZYW",200);me:DropAwardItem("Item_YYSY",200);me:DropAwardItem("Item_ZYSY",200);me:DropAwardItem("Item_JTCYW",200);me:DropAwardItem("Item_JTBYB",200);me:DropAwardItem("Item_YZBYB",200);me:DropAwardItem("Item_WSTJ",200);
						
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>对方明韵有1或10，买个保险吧。</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					elseif num168 == 10 and num169 == 1 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					else
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);

							
					end
				]]></OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="DBF1"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(177,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(178,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					
					me:AddMsg(string.format(XT("[NAME]抽到的三张道韵分别为：%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177)));
					me:AddMsg(string.format(XT("对家抽到的两张明蕴为：%s,%s"), tostring(num168), tostring(num169)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);
						
					else 
						me:TriggerStory("DBF2");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手居然是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真居然是仙域。赔个精光一无所有。");
					elseif  nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="DBF2"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(187,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(188,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					
					me:AddMsg(string.format(XT("[NAME]抽到的四张道韵分别为：%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187)));
					me:AddMsg(string.format(XT("对家抽到的三张明蕴为：%s,%s,%s"), tostring(num168), tostring(num169), tostring(num178)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else 
						me:TriggerStory("DBF3");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="DBF3"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(197,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(198,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					
					me:AddMsg(string.format(XT("[NAME]抽到的五张道韵分别为：%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197)));
					me:AddMsg(string.format(XT("对家抽到的四张明蕴为：%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else 
						me:TriggerStory("DBF4");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="DBF4"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(207,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(208,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					
					me:AddMsg(string.format(XT("[NAME]抽到的六张道韵分别为：%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207)));
					me:AddMsg(string.format(XT("对家抽到的五张明蕴为：%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else 
						me:TriggerStory("DBF5");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="DBF5"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(217,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(218,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					
					me:AddMsg(string.format(XT("[NAME]抽到的七张道韵分别为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217)));
					me:AddMsg(string.format(XT("对家抽到的六张明蕴为：%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else 
						me:TriggerStory("DBF6");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.8,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="DBF6"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(227,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(228,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					
					me:AddMsg(string.format(XT("[NAME]抽到的八张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227)));
					me:AddMsg(string.format(XT("对家抽到的七张明蕴为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else 
						me:TriggerStory("DBF7");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="DBF7"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(237,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(238,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					local num217 = world:GetWorldFlag(237)
					local num218 = world:GetWorldFlag(238)
					
					me:AddMsg(string.format(XT("[NAME]抽到的九张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227), tostring(num237)));
					me:AddMsg(string.format(XT("对家抽到的八张明蕴为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218), tostring(num228)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else 
						me:TriggerStory("DBF8");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1  or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="DBF8"  Parent="BaseFillingStory">
	<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					me:AddMsg("大佬就冲你这个人品，东西给你了。");
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237)+ 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 and world:GetWorldFlag(237) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 or world:GetWorldFlag(238) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_DJHJ",10);me:DropAwardItem("Item_HXCJ",10);me:DropAwardItem("Item_LWHJ",10);me:DropAwardItem("Item_YHQJ",10);me:DropAwardItem("Item_SHZJ",10);me:DropAwardItem("Item_YHLJ",10);me:DropAwardItem("Item_XLLJ",10);me:DropAwardItem("Item_XHEQ",20);me:DropAwardItem("Item_XHJC",5);me:DropAwardItem("Item_ZJST",100);me:DropAwardItem("Item_ST",100);me:DropAwardItem("Item_DLYJ",100);me:DropAwardItem("Item_XZ",100);me:DropAwardItem("Item_JTBLSY",100);me:DropAwardItem("Item_ZYW",100);me:DropAwardItem("Item_YYSY",100);me:DropAwardItem("Item_ZYSY",100);me:DropAwardItem("Item_JTCYW",100);me:DropAwardItem("Item_JTBYB",100);me:DropAwardItem("Item_YZBYB",100);me:DropAwardItem("Item_WSTJ",100);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	
	
	
	<Story Name="KTB"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]切开石头，意识飘散到了异界结点的一场赌局之中。赌局的规则如下开局双方获得两张道韵，一张明韵一张暗韵，1点可当做11点算（由你自己决定怎么使用），其余2至10点按牌面大小算，开局前两张道韵若是1和10则获得仙域，如果对方没有1和10则直接获得最高奖励，如果对方明韵是1，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局，没获得仙域的玩家可继续要韵，将手中的道韵向21点靠近，若玩家要的道韵超过21点则直接扣除双倍切石所需寿元，并结束赌局，假如没有超过，又决定不再要道韵，两方进行比大小。</Desc>
		<Selections>
			<li>
				<Display>发道韵吧。</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(167,nQ);
					table.remove(tN,nR);
					nR = me:RandomInt(1,(#tN+1));
					nQ = tN[nR];
					world:SetWorldFlag(166,nQ);
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(168,nG);
					table.remove(tJ,nH);
					nH = me:RandomInt(1,(#tJ+1));
					nG = tJ[nH];
					world:SetWorldFlag(169,nG);
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					me:AddMsg(string.format(XT("[NAME]抽到的两张道韵分别为：%s,%s。"), tostring(num166), tostring(num167)));
					me:AddMsg(string.format(XT("对家抽到的明蕴为：%s。"), tostring(num168)));
					if num166 == 1 and num167 == 10 then
						me:TriggerStory("XYKTB");
					elseif num166 == 10 and num167 == 1 then
						me:TriggerStory("XYKTB");
					else
						me:TriggerStory("KTB1");
					end
				]]>
				</OKResult>
			</li>
			
			<li>
				<Display>离开</Display> 
				<OKResult>me:AddMsg(XT("[NAME]想了想，赌博害人，还是赶紧离开吧消耗了寿元，就消耗了吧，买个教训。"));</OKResult>
			</li>
		</Selections>
	</Story>
	
		
	<Story Name="XYKTB"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]抽中了仙域，如果对方没有仙域则直接获得最高奖励，如果对方的明韵是1或10，则可考虑买保险，保险寿元为切石所需寿元一般的数值，如果是对方是仙域，则取回保险寿元并直接获得最高奖励，如果对方不是仙域，则继续赌局</Desc>
		<Selections>
			<li>
				<Display>仙域都有了我还怕个锤锤</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真的也是仙域。赔个精光一无所有。");
					else
						me:AddMsg("[NAME]赢了，获得了双倍奖励。");me:DropAwardItem("ZT_WSLHJ",6);me:DropAwardItem("ZT_ZXSLJ",6);me:DropAwardItem("ZT_TLD",6);me:DropAwardItem("ZT_MJ_JY",6);me:DropAwardItem("ZT_ZTXLJ",6);me:DropAwardItem("ZT_ZTD",6);
						me:DropAwardItem("ZT_YMZD",6);me:DropAwardItem("ZT_HSZD",6);me:DropAwardItem("ZT_XHKT",6);me:DropAwardItem("Item_MiBao_JGZ",2);			

						
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>对方明韵有1或10，买个保险吧。</Display> 
				<OKResult><![CDATA[
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					elseif num168 == 10 and num169 == 1 then
						me:AddMsg("[NAME]看到了对方亮出的仙域，心中一阵感叹，还好留了个底，差点底裤都赔进去了。");
					else
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);
							
					end
				]]></OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="KTB1"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(177,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(178,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					
					me:AddMsg(string.format(XT("[NAME]抽到的三张道韵分别为：%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177)));
					me:AddMsg(string.format(XT("对家抽到的两张明蕴为：%s,%s"), tostring(num168), tostring(num169)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);
						
					else 
						me:TriggerStory("KTB2");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if num168 == 1 and num169 ==10 then
						me:AddMsg("[NAME]这么嚣张？却是没想到对手居然是仙域。赔个精光一无所有。");
					elseif num168 == 10 and num169 == 1 then
					me:AddMsg("[NAME]这么嚣张？却是没想到对手真居然是仙域。赔个精光一无所有。");
					elseif  nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	<Story Name="KTB2"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(187,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(188,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					
					me:AddMsg(string.format(XT("[NAME]抽到的四张道韵分别为：%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187)));
					me:AddMsg(string.format(XT("对家抽到的三张明蕴为：%s,%s,%s"), tostring(num168), tostring(num169), tostring(num178)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else 
						me:TriggerStory("KTB3");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="KTB3"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(197,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(198,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					
					me:AddMsg(string.format(XT("[NAME]抽到的五张道韵分别为：%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197)));
					me:AddMsg(string.format(XT("对家抽到的四张明蕴为：%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else 
						me:TriggerStory("KTB4");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="KTB4"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(207,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(208,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					
					me:AddMsg(string.format(XT("[NAME]抽到的六张道韵分别为：%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207)));
					me:AddMsg(string.format(XT("对家抽到的五张明蕴为：%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else 
						me:TriggerStory("KTB5");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="KTB5"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(217,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(218,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					
					me:AddMsg(string.format(XT("[NAME]抽到的七张道韵分别为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217)));
					me:AddMsg(string.format(XT("对家抽到的六张明蕴为：%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.7,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else 
						me:TriggerStory("KTB6");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.8,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="KTB6"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(227,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(228,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					
					me:AddMsg(string.format(XT("[NAME]抽到的八张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227)));
					me:AddMsg(string.format(XT("对家抽到的七张明蕴为：%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else 
						me:TriggerStory("KTB7");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="KTB7"  Parent="BaseFillingStory">
		<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					local tN = {1,2,3,4,5,6,7,8,9,10};
					local nR = me:RandomInt(1,(#tN+1));
					local nQ = tN[nR];
					world:SetWorldFlag(237,nQ);
					
					local tJ = {1,2,3,4,5,6,7,8,9,10};
					local nH = me:RandomInt(1,(#tN+1));
					local nG = tN[nR];
					world:SetWorldFlag(238,nG);
					
					local num166 = world:GetWorldFlag(166)
					local num167 = world:GetWorldFlag(167)
					local num168 = world:GetWorldFlag(168)
					local num169 = world:GetWorldFlag(169)
					local num177 = world:GetWorldFlag(177)
					local num178 = world:GetWorldFlag(178)
					local num187 = world:GetWorldFlag(187)
					local num188 = world:GetWorldFlag(188)
					local num197 = world:GetWorldFlag(197)
					local num198 = world:GetWorldFlag(198)
					local num207 = world:GetWorldFlag(207)
					local num208 = world:GetWorldFlag(208)
					local num217 = world:GetWorldFlag(217)
					local num218 = world:GetWorldFlag(218)
					local num217 = world:GetWorldFlag(227)
					local num218 = world:GetWorldFlag(228)
					local num217 = world:GetWorldFlag(237)
					local num218 = world:GetWorldFlag(238)
					
					me:AddMsg(string.format(XT("[NAME]抽到的九张道韵分别为：%s,%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num166), tostring(num167), tostring(num177), tostring(num187), tostring(num197), tostring(num207), tostring(num217), tostring(num227), tostring(num237)));
					me:AddMsg(string.format(XT("对家抽到的八张明蕴为：%s,%s,%s,%s,%s,%s,%s,%s。"), tostring(num168), tostring(num169), tostring(num178), tostring(num188), tostring(num198), tostring(num208), tostring(num218), tostring(num228)));
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188)) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else 
						me:TriggerStory("KTB8");
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1  or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("Item_WSXXY",1);me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
	<Story Name="KTB8"  Parent="BaseFillingStory">
	<DisplayName>石中赌局</DisplayName>
		<Desc>[NAME]继续了赌局，不知道[NAME]打算如何是好。。</Desc>
		<Selections>
			<li>
				<Display>给我道韵</Display> 
				<OKResult><![CDATA[
					me:AddMsg("大佬就冲你这个人品，东西给你了。");
				]]>
				</OKResult>
			</li>
			<li>
				<Display>把1道韵转换为11道韵，然后开牌（默认只转换一个1为11)</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237)+ 10)
					if world:GetWorldFlag(166) > 1 and world:GetWorldFlag(167) > 1 and world:GetWorldFlag(177) > 1 and world:GetWorldFlag(187) > 1 and world:GetWorldFlag(197) > 1 and world:GetWorldFlag(207) > 1 and world:GetWorldFlag(217) > 1 and world:GetWorldFlag(227) > 1 and world:GetWorldFlag(237) > 1 then
						me:AddMsg("[NAME]明明没有1，居然企图骗我，太过分了。");
						me:AddDamage("Destroy","Brain",1,XT("神识炸裂"));
						nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					else
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228))
					if world:GetWorldFlag(168) == 1 or world:GetWorldFlag(169) == 1 or world:GetWorldFlag(178) == 1 or world:GetWorldFlag(188) == 1 or world:GetWorldFlag(198) == 1 or world:GetWorldFlag(208) == 1 or world:GetWorldFlag(218) == 1 or world:GetWorldFlag(228) == 1 or world:GetWorldFlag(238) == 1 then
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							if math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10) > 21 then
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
							else 
								 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238) + 10)
							end
					else
						 nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					end
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.9,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
					end
					end
				]]>
				</OKResult>
			</li>
			<li>
				<Display>直接开牌吧</Display> 
				<OKResult><![CDATA[
					local nT = math.abs(world:GetWorldFlag(166) + world:GetWorldFlag(167) + world:GetWorldFlag(177) + world:GetWorldFlag(187) + world:GetWorldFlag(197) + world:GetWorldFlag(207) + world:GetWorldFlag(217) + world:GetWorldFlag(227) + world:GetWorldFlag(237))
					local nY = math.abs(world:GetWorldFlag(168) + world:GetWorldFlag(169) + world:GetWorldFlag(178) + world:GetWorldFlag(188) + world:GetWorldFlag(198) + world:GetWorldFlag(208) + world:GetWorldFlag(218) + world:GetWorldFlag(228) + world:GetWorldFlag(238))
					local num596 = nT
					local num597 = nY
					me:AddMsg(string.format(XT("双方道韵之和分别为：%s,%s。"), tostring(num596), tostring(num597)));
					if nT >= 22 then
						me:AddMsg("[NAME]获得的道韵超过了该结点的承受能力，脑中一整嗡鸣，神识受到了一定地伤害。");me:AddDamage("Destroy","Brain",0.5,XT("神识炸裂"));
					elseif nY >= 22 then
						me:AddMsg("[NAME]运气不错，居然等到了对面先超出过结点的承受能力，成功获得了石中之物。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					elseif nT >= nY then
						me:AddMsg("[NAME]赢了获得了一般奖励。");me:DropAwardItem("ZT_WSLHJ",3);me:DropAwardItem("ZT_ZXSLJ",3);me:DropAwardItem("ZT_TLD",3);me:DropAwardItem("ZT_MJ_JY",3);me:DropAwardItem("ZT_ZTXLJ",3);me:DropAwardItem("ZT_ZTD",3);me:DropAwardItem("ZT_YMZD",3);me:DropAwardItem("ZT_HSZD",3);me:DropAwardItem("ZT_XHKT",3);me:DropAwardItem("Item_MiBao_JGZ",1);						
					else
						me:AddMsg("[NAME]白消耗了寿元。");
						
					end
				]]>
				</OKResult>
			</li>
		</Selections>
	</Story>
	
</List></Stories>